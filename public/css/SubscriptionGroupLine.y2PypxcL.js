import{eB as P,b6 as H,a as e,z as c,bd as N,bk as $,b as G,d as p,b8 as g,i as y,eC as T,I as z,B as _,at as A,bb as k,bc as w,bE as Q,as as W,c as F,qj as L,ei as D,al as v,y as V,qk as X,oX as B,aY as b,D as Y,H as J,aU as f,$ as K,ql as Z,qm as ee}from"./app.DCvXxO1S.js";import{M as q,S as ne}from"./StackedMerchandisePreview.aoNAB7-b.js";function C({deliveryMethod:n,subtitle:s,isInModal:i=!1,choiceListContext:t=!0}){const r=P(),{deliveryExpectationLines:a}=H(),l=a?.find(u=>u.deliveryStrategyHandle===n.handle),d=i?void 0:"small";return s?e(c,{size:d,color:"subdued",children:s}):r?null:e(N,{deliveryMethod:n,deliveryExpectationLine:l,size:d,choiceListContext:t&&!i})}function ie({merchandiseItem:{title:n,quantity:s},titleTypographyStyle:i,quantityPosition:t}){const r=y();return t==="inline"?e(c,{style:i,children:r("shipping.split_shipping_merchandise_quantity_label_inline",{merchandise_title:n,quantity:s??0},"%{merchandise_title} Ã—%{quantity}")}):e(c,{style:i,children:n})}function se({merchandiseItem:{subtitle:n,quantity:s},textDefaultProps:i,quantityPosition:t}){const r=y(),a=t==="inlinePrimary";return n||a?e(z,{blockAlignment:"center",spacing:"small400",children:[n?e(c,{...i,children:n}):null,n&&a?e(c,{...i,children:T}):null,a?e(c,{...i,children:r("shipping.split_shipping_merchandise_quantity_label_inline_primary",{quantity:s??0},"Quantity: %{quantity}")}):null]}):null}function te({merchandiseItem:n,thumbnailSize:s}){const{lineItems:{quantityPosition:i="thumbnailBadge",titleTypographyStyle:t,optionsTypographyStyle:r,optionsAppearance:a="subdued",optionsEmphasis:l}}=G();return e(g,{columns:["auto","fill"],spacing:"small200",children:[e(q,{merchandiseItem:n,size:s}),e(p,{blockAlignment:"center",children:[e(ie,{merchandiseItem:n,titleTypographyStyle:t,quantityPosition:i}),e(se,{merchandiseItem:n,textDefaultProps:{size:"small",color:a,type:l==="bold"?"strong":void 0,style:r},quantityPosition:i})]})]})}function re({merchandise:n,thumbnailSize:s="small",merchandiseItemSpacing:i="small200",merchandiseItemPadding:t="none"}){return e($,{spacing:i,rows:"auto",padding:t,children:n.map(r=>e(te,{merchandiseItem:r,thumbnailSize:s},r.stableId))})}function ae({merchandiseLines:n=[],deliveryMethod:s,modalHeader:i,subtitle:t,choiceListContext:r=!0,shouldRightAlignPrice:a,open:l=!1}){return e(Q,{padding:!0,title:i,size:"auto",accessibilityLabel:i,id:"merchandise-modal",open:l,children:[e(re,{merchandise:n,thumbnailSize:"base",merchandiseItemSpacing:"base",merchandiseItemPadding:["small100","none","none","none"]}),e(_,{spacing:"large200"}),e(A,{}),e(_,{}),e(g,{columns:["fill","auto"],children:[e(p,{blockAlignment:"start",children:[e(c,{children:k({deliveryMethod:s})}),e(C,{subtitle:t,deliveryMethod:s,choiceListContext:r,isInModal:!0})]}),a?e(w,{cost:s.cost,costAfterDiscounts:s.costAfterDiscounts,styleOverrides:{shouldBold:!r,freeTextLetterCase:"uppercase",costSpacing:"none"}}):null]}),e(_,{spacing:"large200"})]})}function R({merchandiseLines:n=[],deliveryMethodHandle:s,deliveryMethod:i,subtitle:t,modalHeader:r,shouldRightAlignPrice:a,choiceListContext:l=!0,isNotFirstLine:d,shippingMethodDetailsAfterExtensions:u=[],shippingMethodDetailsExpandedExtensions:m=[]}){const o=y(),{cost:S,costAfterDiscounts:M}=i,h=W(n),x=h.length,[I]=h,U=e(b,{extensions:m,options:{handle:s,isInModal:!1}}),{inlineSize:j}=F("small"),E=e(ae,{modalHeader:r,merchandiseLines:n,deliveryMethod:i,shouldRightAlignPrice:a,choiceListContext:l,subtitle:t});return e(Y,{children:[e(le,{isNotFirstLine:d,hasExtensions:u.length>0||m.length>0,marginInlineStart:j}),e(g,{columns:["auto","fill"],spacing:"base",children:[e(p,{blockAlignment:"start",children:e(L.Provider,{value:!0,children:e(D,{overlay:E,children:e(L.Provider,{value:!1,children:x>1?e(ne,{merchandiseItem:I,merchandiseLinesLength:x}):e(q,{merchandiseItem:I,hideBadge:!0})})})})}),e(p,{blockAlignment:"center",children:e(v,{spacing:"small300",children:[e(D,{overlay:E,children:e(p,{blockAlignment:"center",children:e(g,{columns:["fill","auto"],spacing:"small400",children:[e(v,{spacing:"none",children:[e(g,{columns:"auto",spacing:"small400",blockAlignment:"center",children:[e(z,{spacing:"small500",blockAlignment:"center",children:[e(V,{appearance:"accent",source:"truck",size:"small"}),e(c,{size:"small",tone:"accent",children:o("order_summary.discount_discovery.merchandise_quantity_label",{count:X(n)},{one:"%{count} item",other:"%{count} items"})})]}),e(c,{size:"small",children:T}),e(p,{maxInlineSize:"fill",overflow:"hidden",children:e(c,{size:"small",children:e(B,{children:k({deliveryMethod:i})})})})]}),e(C,{subtitle:t,deliveryMethod:i,choiceListContext:l})]}),a?e(w,{cost:S,costAfterDiscounts:M,styleOverrides:{textSize:"small",shouldBold:!l,freeTextLetterCase:"uppercase",costSpacing:"none"}}):null]})})}),e(b,{extensions:u,options:{handle:s,isInModal:!1}})]})})]}),m.length>0&&U]})}function le({isNotFirstLine:n,hasExtensions:s,marginInlineStart:i}){if(!n)return null;const t=e("div",{style:{marginInlineStart:`calc(${i}px + var(--x-spacing-base))`},children:e(A,{})});return s?t:e(J,{below:"small",children:t})}function ce(n){return P()?e(R,{...n}):e(oe,{...n})}function oe(n){const s=f("Checkout::ShippingMethodDetails::RenderAfter"),i=f("Checkout::ShippingMethodDetails::RenderExpanded");return e(R,{...n,shippingMethodDetailsAfterExtensions:s,shippingMethodDetailsExpandedExtensions:i})}class O extends Error{name="SubscriptionLineMissingDeliveryMethodError"}function de({subscriptionLine:n,subscriptionLinesLength:s,index:i}){const t=K(),r=P(),a=y(),l=f("Checkout::ShippingMethodDetails::RenderAfter"),d=f("Checkout::ShippingMethodDetails::RenderExpanded"),{methods:u,targetMerchandiseLines:m}=n,o=u[0],S=Z({priceBreakdown:o?.priceBreakdown?.[0],discountedShippingPrice:o?.costAfterDiscounts});if(!o)return t.notify(new O("We are unable to render a subscription delivery component because we have no subscription delivery methods")),null;const M=s===1,{handle:h}=o;return M?r?e(c,{children:e(B,{children:k({deliveryMethod:o})})}):e(v,{spacing:"small200",children:[e(ee,{deliveryMethod:o}),l&&e(b,{extensions:l,options:{handle:h,isInModal:!1}}),d&&e(b,{extensions:d,options:{handle:h,isInModal:!1}})]}):e(ce,{merchandiseLines:m,deliveryMethod:o,modalHeader:a("shipping.shipping_method_recurring_shipments_group_title",{count:1},{one:"Recurring shipment",other:"Recurring shipments"}),subtitle:S,deliveryMethodHandle:h,isNotFirstLine:i>0,accessibilityLabel:a("split_shipping.a11y_recurring_shipment_line",{number:i+1,total:s},"Review recurring shipment %{number} of %{total}")})}const pe=Object.freeze(Object.defineProperty({__proto__:null,SubscriptionLineMissingDeliveryMethodError:O,default:de},Symbol.toStringTag,{value:"Module"}));export{re as E,ce as S,pe as a};
